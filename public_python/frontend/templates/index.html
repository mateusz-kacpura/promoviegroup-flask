<!DOCTYPE html>
<html lang="en" >
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ProMovieGroup</title>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Chakra+Petch&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Kaushan+Script&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;700&display=swap" rel="stylesheet">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='adds/service-website-template/css/bootstrap.min.css') }}">

    <!-- MDB CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='adds/hero/css/mdb.min.css') }}">

    <!-- Owl Carousel -->
    <link rel="stylesheet" href="{{ url_for('static', filename='adds/service-website-template/css/owl.carousel.min.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='adds/service-website-template/css/owl.theme.default.min.css') }}">

    <!-- AOS (Animate On Scroll) -->
    <link rel="stylesheet" href="{{ url_for('static', filename='adds/service-website-template/css/aos.css') }}">

    <!-- Fancybox -->
    <link rel="stylesheet" href="{{ url_for('static', filename='adds/service-website-template/css/jquery.fancybox.min.css') }}">

    <!-- Custom Styles -->
    <link rel="stylesheet" href="{{ url_for('static', filename='adds/service-website-template/css/style.css') }}">

    <!-- Icon Fonts -->
    <link rel="stylesheet" href="{{ url_for('static', filename='adds/service-website-template/fonts/icomoon/style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='adds/service-website-template/fonts/feather/style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='adds/service-website-template/fonts/flaticon/font/flaticon.css') }}">

    <!-- Swiper -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@10/swiper-bundle.min.css">

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Barlow+Condensed&display=swap');
        
        /* Loader Styles */
        #loader-wrapper {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #ffffff;
            z-index: 10000;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
        }

        #loader {
            border: 16px solid #f3f3f3;
            border-radius: 50%;
            border-top: 16px solid #3498db;
            width: 120px;
            height: 120px;
            -webkit-animation: spin 2s linear infinite;
            animation: spin 2s linear infinite;
        }

        #loader-percentage {
            margin-top: 20px;
            font-size: 24px;
            font-family: 'Montserrat', sans-serif;
        }

        @-webkit-keyframes spin {
            0% { -webkit-transform: rotate(0deg); }
            100% { -webkit-transform: rotate(360deg); }
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .additional-overlay { pointer-events: none; }
        .grid-overlay {
            background-image: 
                linear-gradient(0deg, transparent 24%, rgba(0,0,0,0.05) 25%, rgba(0,0,0,0.05) 26%, transparent 27%, transparent 74%, rgba(0,0,0,0.05) 75%, rgba(0,0,0,0.05) 76%, transparent 77%, transparent),
                linear-gradient(90deg, transparent 24%, rgba(0,0,0,0.05) 25%, rgba(0,0,0,0.05) 26%, transparent 27%, transparent 74%, rgba(0,0,0,0.05) 75%, rgba(0,0,0,0.05) 76%, transparent 77%, transparent);
            background-size: 50px 50px;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        .counters-overlay .counter-item {
            background: rgba(255,255,255,0.85);
            padding: 10px 20px;
            border-radius: 5px;
            margin: 0 10px;
        }
        .counters-overlay .counter {
            font-weight: 700;
            color: #333;
        }
        .counters-overlay p {
            margin: 0;
            font-size: 0.9rem;
            color: #555;
        }

    </style>
</head>
<body>
    <!-- Loader -->
    <div id="loader-wrapper">
        <div id="loader"></div>
        <div id="loader-percentage">0%</div>
    </div>

    <link rel="stylesheet" href="{{ url_for('static', filename='adds/index/main.css') }}">

    <header class="fixed-top">
        <div id="navbarContainer"></div>
    </header>
    
    <div class="tlo_strony mt-3 mt-lg-5">
        {% if active_menu == 'o-nas' %}
            {% include 'page/hero.html' %}
        {% elif active_menu == 'oferta' %}
            {% include 'page/oferta.html' %}
        {% elif active_menu == 'galeria' %}
            {% include 'page/galeria.html' %}
        {% elif active_menu == 'opinie' %}
            {% include 'page/opinie.html' %}
        {% elif active_menu == 'kontakt' %}
            {% include 'page/logo.html' %}
        {% elif active_menu == 'faq' %}
            {% include 'page/faq.html' %}
        {% elif active_menu == 'articles' %}
            {% include 'page/articles.html' %}
        {% elif active_menu == 'wsparcie' %}
            {% include 'page/wsparcie.html' %}
        {% else %}
            {% include 'page/hero.html' %}
        {% endif %}
    </div>

    <div id="footer-section"></div>

    <!-- jQuery -->
    <script src="{{ url_for('static', filename='adds/service-website-template/js/jquery-3.5.1.min.js') }}"></script>
    <script src="{{ url_for('static', filename='adds/service-website-template/js/jquery-migrate-3.0.0.min.js') }}"></script>

    <!-- Bootstrap (jQuery should be loaded before Bootstrap) -->
    <script src="{{ url_for('static', filename='adds/service-website-template/js/popper.min.js') }}"></script>
    <script src="{{ url_for('static', filename='adds/service-website-template/js/bootstrap.min.js') }}"></script>

    <!-- MDB (depends on Bootstrap) -->
    <script src="{{ url_for('static', filename='adds/hero/js/mdb.min.js') }}"></script>

    <!-- Owl Carousel -->
    <script src="{{ url_for('static', filename='adds/service-website-template/js/owl.carousel.min.js') }}"></script>

    <!-- AOS (Animate On Scroll) -->
    <script src="{{ url_for('static', filename='adds/service-website-template/js/aos.js') }}"></script>

    <!-- Additional plugins -->
    <script src="{{ url_for('static', filename='adds/service-website-template/js/imagesloaded.pkgd.js') }}"></script>
    <script src="{{ url_for('static', filename='adds/service-website-template/js/isotope.pkgd.min.js') }}"></script>
    <script src="{{ url_for('static', filename='adds/service-website-template/js/jquery.animateNumber.min.js') }}"></script>
    <script src="{{ url_for('static', filename='adds/service-website-template/js/jquery.stellar.min.js') }}"></script>
    <script src="{{ url_for('static', filename='adds/service-website-template/js/jquery.waypoints.min.js') }}"></script>
    <script src="{{ url_for('static', filename='adds/service-website-template/js/jquery.fancybox.min.js') }}"></script>

    <!-- Custom Scripts -->
    <script src="{{ url_for('static', filename='adds/service-website-template/js/custom.js') }}"></script>

    <!-- Bootstrap CDN (can be replaced with local version if necessary) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='adds/index/footerSection.js') }}"></script>

    <!-- Loader Script -->
<!-- Loader Script -->
<!-- Loader Script -->
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const counters = document.querySelectorAll('.counter');
        counters.forEach(counter => {
            const updateCount = () => {
                const target = +counter.getAttribute('data-target');
                const count = +counter.innerText;
                const increment = target / 200; // dostosuj szybkość animacji
                
                if (count < target) {
                    counter.innerText = Math.ceil(count + increment);
                    setTimeout(updateCount, 10);
                } else {
                    counter.innerText = target;
                }
            };
            updateCount();
        });
    });

    document.addEventListener("DOMContentLoaded", function () {
        const loaderPercentage = document.getElementById('loader-percentage');
    
        // Pobierz wszystkie obrazki i filmy na stronie
        const images = Array.from(document.images);
        const videos = Array.from(document.getElementsByTagName('video'));
        const mediaElements = images.concat(videos);
        const totalMedia = mediaElements.length;
        let mediaLoaded = 0;
    
        // Jeśli nie ma żadnych mediów, ukryj loader natychmiast
        if (totalMedia === 0) {
            document.getElementById('loader-wrapper').style.display = 'none';
            return;
        }
    
        // Zmienna przechowująca aktualnie wyświetlany procent
        let displayedProgress = 0;
        // Aktualizowany docelowy procent (na podstawie liczby załadowanych elementów)
        let targetProgress = 0;
    
        // Funkcja płynnie aktualizująca wyświetlany procent
        function animateProgress() {
            // Jeśli aktualna wartość jest mniejsza od docelowej, zwiększamy ją
            if (displayedProgress < targetProgress) {
                displayedProgress++;
                loaderPercentage.innerText = displayedProgress + "%";
                // Wywołaj ponownie animację przy kolejnym cyklu animacji
                setTimeout(animateProgress, 20);
            } else if (displayedProgress > targetProgress) {
                // Ewentualnie, gdyby zdarzyło się odwrotnie – zmniejszamy (raczej nie wystąpi)
                displayedProgress--;
                loaderPercentage.innerText = displayedProgress + "%";
                setTimeout(animateProgress, 20);
            }
        }
    
        // Funkcja wywoływana po załadowaniu każdego elementu
        function mediaLoadedHandler() {
            mediaLoaded++;
            // Obliczamy docelowy procent – zaokrąglamy w dół
            targetProgress = Math.floor((mediaLoaded / totalMedia) * 100);
            // Rozpoczynamy animację – jeśli już nie jest w toku, kolejne wywołanie zwiększy wartość stopniowo
            animateProgress();
    
            // Gdy wszystkie media są załadowane, poczekaj chwilę, po czym ukryj loader
            if (mediaLoaded === totalMedia) {
                // Upewnij się, że licznik dochodzi do 100%
                targetProgress = 100;
                animateProgress();
                setTimeout(() => {
                    document.getElementById('loader-wrapper').style.display = 'none';
                }, 500);
            }
        }
    
        // Obsługa obrazków
        images.forEach((img) => {
            if (img.complete) {
                mediaLoadedHandler();
            } else {
                let tempImg = new Image();
                tempImg.onload = mediaLoadedHandler;
                tempImg.onerror = mediaLoadedHandler;
                tempImg.src = img.src;
            }
        });
    
        // Obsługa filmów
        videos.forEach((video) => {
            // Upewnij się, że atrybut preload jest ustawiony na właściwą wartość
            video.addEventListener('loadeddata', mediaLoadedHandler, { once: true });
            video.addEventListener('error', mediaLoadedHandler, { once: true });
        });
    });
    </script>
    
    
</body>
</html>
