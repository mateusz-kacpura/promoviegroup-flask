<!-- SERVER_PATH + 'efekty\adds\background\'-->
<header>
    <h1>
      <svg class="logo" version="1.0" xmlns="http://www.w3.org/2000/svg"
      width="2048.000000pt" height="2048.000000pt" viewBox="0 0 2048.000000 2048.000000"
      aria-labelledby="logoTitle logoDesc" role="img">

      <g transform="translate(0.000000,2048.000000) scale(0.100000,-0.100000)"
      fill="#000000" stroke="none">

      <!-- Define the gradient -->
      <defs>
      <linearGradient id="grad1" x1="0%" y1="40%" x2="90%" y2="0%">
          <stop offset="0%" style="stop-color:rgb(255,0,0);stop-opacity:1" />
          <stop offset="100%" style="stop-color:rgb(50,0,0);stop-opacity:1" />
      </linearGradient>
      </defs>
      // claps, lewa strona
      <path d="M12720 5305 c-175 -28 -433 -180 -601 -352 -112 -115 -183 -217 -249
      -357 -59 -125 -78 -195 -88 -321 -15 -189 26 -374 112 -503 99 -149 313 -363
      456 -457 344 -224 780 -273 1210 -133 93 30 306 140 365 188 162 134 271 266
      340 413 66 142 85 220 92 378 15 340 -79 560 -347 812 -159 151 -434 292 -648
      333 -93 18 -532 17 -642 -1z m535 -1080 l0 -910 -247 1 c-137 0 -251 4 -255 8
      -11 11 -7 1701 4 1756 8 44 9 45 53 51 25 3 135 6 245 5 l200 -1 0 -910z"/>
      <path d="M442 5259 c-167 -4 -306 -10 -309 -13 -6 -6 -5 -928 1 -1171 2 -71 4
      -318 5 -547 l1 -417 243 5 c133 2 270 7 305 10 l62 6 0 444 0 444 23 9 c12 5
      58 11 102 15 97 8 340 42 451 62 96 17 311 97 388 144 183 111 253 243 244
      459 -6 145 -30 204 -118 292 -52 53 -86 76 -170 117 -125 61 -213 85 -411 112
      -119 17 -487 44 -509 38 -3 -1 -142 -5 -308 -9z m617 -272 c54 -26 131 -234
      131 -354 0 -77 -34 -225 -63 -278 -16 -30 -37 -48 -81 -70 -54 -26 -71 -30
      -181 -33 l-122 -4 -8 211 c-4 116 -4 286 0 376 6 139 10 165 24 169 30 10 273
      -4 300 -17z"/>
      <path d="M6380 5264 c-19 -2 -78 -9 -130 -15 -231 -26 -381 -74 -530 -167
      -234 -148 -328 -239 -471 -456 -83 -126 -108 -181 -141 -311 -51 -201 11 -440
      181 -695 107 -160 275 -306 465 -402 80 -40 260 -104 381 -135 183 -46 526
      -42 723 8 172 43 391 178 546 334 257 260 358 467 358 735 0 227 -63 413 -208
      615 -56 78 -167 192 -224 232 -138 94 -406 206 -571 238 -82 16 -310 27 -379
      19z m326 -208 c18 -14 19 -39 25 -873 4 -472 5 -868 2 -880 -7 -31 -23 -35
      -168 -40 -141 -6 -270 8 -292 30 -21 21 -33 1740 -12 1753 26 16 93 21 260 23
      128 1 169 -2 185 -13z"/>
      <path d="M14852 5213 c-24 -2 -45 -10 -48 -18 -5 -12 87 -198 126 -255 57 -83
      447 -849 554 -1087 108 -242 330 -668 367 -705 45 -46 70 -38 126 40 43 57
      110 167 203 327 12 22 45 83 73 135 27 52 76 140 107 195 60 106 179 324 352
      645 58 107 119 219 137 248 17 29 31 54 31 56 0 2 34 61 76 131 105 176 121
      212 106 228 -15 14 -250 23 -268 10 -7 -4 -44 -73 -83 -153 -39 -80 -98 -194
      -131 -255 -34 -60 -104 -194 -156 -297 -52 -103 -124 -236 -160 -295 -36 -60
      -81 -140 -100 -179 -31 -66 -59 -103 -68 -93 -9 10 -78 155 -125 264 -29 66
      -63 143 -76 170 -13 28 -47 100 -75 160 -29 61 -78 171 -110 245 -121 282
      -211 467 -233 477 -21 10 -535 14 -625 6z"/>
      <path d="M11170 5200 c-58 -4 -110 -8 -117 -9 -25 -2 -57 -49 -123 -181 -37
      -74 -71 -146 -75 -160 -4 -14 -46 -104 -92 -200 -47 -96 -104 -222 -128 -280
      -55 -135 -141 -316 -153 -324 -14 -9 -28 31 -108 307 -41 143 -92 315 -113
      381 -21 67 -43 141 -50 166 -46 177 -79 274 -97 281 -25 10 -365 11 -380 1
      -21 -13 -33 -82 -53 -303 -11 -119 -31 -281 -45 -360 -41 -238 -85 -528 -96
      -634 -6 -55 -17 -147 -25 -205 -17 -117 -40 -310 -50 -411 l-7 -66 38 -6 c111
      -19 140 -6 149 65 22 177 82 588 126 868 11 69 23 169 28 223 5 54 12 101 15
      105 13 13 33 -27 51 -100 9 -40 33 -115 52 -167 19 -53 61 -181 94 -286 75
      -239 208 -653 220 -683 15 -38 105 -57 142 -29 9 6 35 59 58 117 22 58 56 141
      74 185 18 44 36 91 40 105 12 41 134 339 170 415 18 38 59 124 90 190 51 107
      131 301 149 363 4 12 13 22 20 22 17 0 24 -56 36 -295 5 -104 14 -253 20 -330
      5 -77 15 -273 21 -435 7 -162 15 -305 20 -317 4 -12 19 -29 33 -38 22 -15 44
      -15 267 0 134 8 245 18 248 21 3 2 0 44 -6 92 -7 48 -23 175 -37 282 -36 274
      -54 491 -66 772 -22 511 -51 846 -74 853 -28 9 -171 11 -266 5z"/>
      <path d="M17748 4172 c-2 -543 -1 -991 3 -996 5 -5 127 -11 272 -13 233 -3
      266 -2 277 12 15 18 17 143 23 1377 l3 608 -287 0 -287 0 -4 -988z"/>
      <path d="M2885 5141 l-130 -6 0 -165 c1 -836 8 -1800 12 -1823 l6 -27 306 2
      306 3 3 40 c2 22 -1 101 -7 175 -6 74 -16 221 -22 325 -5 105 -18 267 -28 360
      -17 154 -18 187 -8 174 2 -2 48 -85 102 -184 54 -99 127 -227 164 -285 36 -58
      111 -184 168 -280 145 -249 144 -248 184 -291 l36 -39 286 0 c157 0 292 3 301
      6 27 11 19 55 -18 94 -19 19 -92 118 -162 220 -70 102 -153 219 -183 260 -115
      156 -301 434 -301 450 0 5 25 16 56 25 117 34 245 139 300 246 23 45 28 70 32
      149 8 188 -46 295 -199 398 -60 41 -211 107 -289 127 -143 37 -610 61 -915 46z
      m617 -247 c36 -7 84 -63 100 -116 14 -48 18 -319 5 -381 -11 -52 -36 -64 -149
      -72 l-98 -7 0 290 c0 223 3 292 13 296 12 5 77 0 129 -10z"/>
      <path d="M19075 5103 l-40 -4 3 -956 c1 -527 5 -959 8 -962 3 -4 276 -6 607
      -6 l602 0 3 135 3 135 -318 0 -318 0 0 320 0 320 293 1 c161 1 296 4 299 8 11
      11 3 309 -8 323 -9 10 -61 13 -228 13 -119 0 -246 3 -282 6 l-66 7 -6 160 c-4
      89 -3 165 1 169 4 4 152 10 329 14 l322 7 3 142 c2 78 2 150 0 159 -3 15 -54
      16 -585 14 -320 -1 -600 -3 -622 -5z"/>
      <path d="M11965 2680 c-211 -22 -431 -130 -535 -261 -61 -78 -86 -133 -110
      -249 -20 -92 -22 -121 -16 -243 8 -152 22 -204 92 -337 48 -92 182 -222 276
      -268 126 -62 200 -75 413 -76 169 0 199 2 269 22 169 49 331 163 405 286 58
      97 73 167 78 376 6 222 -6 291 -69 417 -52 104 -100 153 -215 221 -171 102
      -352 137 -588 112z m210 -199 c56 -14 56 -13 53 -533 -3 -432 -5 -479 -20
      -494 -11 -12 -40 -18 -91 -22 -71 -4 -76 -3 -88 19 -9 17 -13 111 -16 339 -2
      173 -5 401 -7 507 -3 189 -3 192 18 195 29 4 115 -2 151 -11z"/>
      <path d="M9077 2498 c-9 -220 -9 -488 0 -908 l6 -333 279 5 c153 3 281 8 285
      12 4 4 9 82 11 174 4 183 10 205 52 180 12 -7 38 -44 58 -83 35 -67 37 -75 37
      -168 0 -68 4 -100 13 -106 7 -4 152 -9 323 -10 l310 -2 -11 21 c-6 11 -39 51
      -74 88 -100 108 -259 312 -314 403 l-22 37 87 48 c118 66 183 128 219 206 24
      54 28 76 29 153 0 109 -21 178 -75 251 -120 160 -323 203 -956 204 l-251 0 -6
      -172z m702 25 c50 -29 56 -52 56 -205 -1 -133 -2 -139 -25 -163 -14 -13 -37
      -27 -51 -30 -25 -6 -26 -4 -32 47 -9 68 -9 331 -1 352 8 20 15 20 53 -1z"/>
      <path d="M7585 2640 c-269 -55 -437 -152 -543 -314 -150 -231 -106 -640 93
      -854 109 -117 207 -175 365 -215 117 -29 386 -31 505 -3 95 22 336 112 351
      131 14 18 7 540 -8 578 -20 51 -48 57 -260 58 -118 0 -211 -4 -240 -11 -75
      -19 -80 -38 -87 -325 -7 -279 -8 -281 -90 -198 -43 42 -50 57 -65 122 -22 97
      -46 323 -46 436 0 125 17 261 39 310 15 35 27 45 81 69 57 26 70 28 131 22
      111 -10 240 -44 293 -77 27 -16 58 -29 70 -27 56 8 -19 160 -114 231 -61 45
      -102 61 -198 76 -97 15 -171 13 -277 -9z"/>
      <path d="M15630 2643 l-166 -3 1 -680 c0 -508 3 -682 12 -691 16 -16 398 -8
      416 10 9 8 13 83 17 264 l5 252 90 6 c108 8 255 34 309 55 64 25 155 92 191
      142 51 71 69 138 63 241 -7 110 -30 165 -99 231 -100 96 -262 153 -486 169
      -76 6 -149 10 -163 9 -14 -1 -99 -4 -190 -5z m381 -175 c15 -24 24 -124 24
      -272 0 -147 0 -149 -25 -167 -14 -10 -37 -21 -52 -24 l-26 -7 -4 234 c-2 128
      -2 239 1 247 5 16 70 8 82 -11z"/>
      <path d="M13472 2629 l-24 -9 7 -412 c9 -562 22 -636 131 -757 115 -128 301
      -211 518 -231 138 -14 333 22 415 75 47 30 122 109 155 162 54 87 57 125 63
      671 l6 502 -29 2 c-46 2 -68 -2 -75 -14 -4 -6 -9 -216 -12 -467 -4 -483 -7
      -514 -56 -609 -49 -96 -296 -152 -428 -97 -59 25 -121 84 -150 144 l-28 56 0
      245 c0 135 2 328 5 430 3 102 1 216 -3 253 l-9 68 -231 -2 c-128 -1 -242 -5
      -255 -10z"/>
      <path d="M18865 2334 c-172 -36 -266 -118 -316 -274 -31 -95 -39 -355 -14
      -466 22 -103 67 -185 129 -240 62 -54 117 -74 222 -81 212 -15 353 77 415 269
      21 65 23 92 24 253 0 161 -2 188 -23 255 -44 140 -129 232 -246 264 -56 16
      -160 26 -191 20z m163 -231 c60 -48 85 -122 90 -272 5 -139 -6 -210 -45 -282
      -30 -57 -65 -78 -140 -85 -81 -7 -127 20 -168 101 l-30 59 0 180 c0 166 2 184
      22 221 25 46 67 89 103 104 14 6 49 9 78 8 40 -3 61 -11 90 -34z"/>
      <path d="M17960 2317 c-203 -47 -327 -215 -346 -465 -7 -101 13 -240 46 -318
      29 -68 92 -147 143 -183 106 -73 302 -100 476 -66 125 24 123 22 107 123 -7
      45 -15 85 -18 87 -2 2 -26 -3 -53 -11 -64 -20 -244 -23 -304 -5 -31 9 -62 30
      -102 70 -53 53 -58 63 -74 136 -31 137 -8 271 61 362 13 17 52 45 85 62 88 44
      175 44 271 -1 37 -17 70 -29 72 -27 54 67 86 114 86 128 0 25 -37 56 -105 88
      -53 24 -73 28 -175 30 -67 1 -138 -3 -170 -10z"/>
      <path d="M19475 2321 c-6 -10 -8 -283 -6 -774 l1 -278 92 3 92 3 4 420 c3 368
      8 452 26 434 2 -2 21 -101 41 -219 20 -118 38 -223 41 -232 4 -15 17 -18 74
      -18 64 0 70 2 74 23 7 31 53 277 69 367 9 53 17 75 28 75 15 0 15 -22 18 -632
      l1 -223 84 0 c79 0 84 1 89 23 8 31 8 921 1 985 l-6 52 -137 0 -137 0 -22
      -124 c-12 -68 -22 -135 -22 -150 0 -50 -31 -167 -43 -163 -7 2 -15 28 -20 58
      -4 30 -18 113 -32 184 -13 72 -26 144 -27 160 l-3 30 -137 3 c-82 1 -139 -1
      -143 -7z"/>
      <path d="M17032 1521 c-44 -28 -72 -77 -72 -126 0 -77 67 -131 153 -122 43 4
      56 10 85 42 32 35 34 40 30 97 -4 50 -9 64 -35 90 -41 41 -112 49 -161 19z"/>
      </g>
      </svg>      

    </h1>
  </header>
  <link rel="stylesheet" href="http://127.0.0.1//efekty/adds/background/css/back-main.css"/>
  <script src="http://127.0.0.1//efekty/adds/background/js/show-demo-source.js"></script>
  <script src="http://127.0.0.1//efekty/adds/background/js/shader-web-background-api.js"></script>
  <script src="http://127.0.0.1//efekty/adds/background/js/webgl-utils.js"></script>
  <script src="http://127.0.0.1//efekty/adds/background/js/shader-web-background.js"></script>

  <script type="x-shader/x-fragment" id="feedback">
    precision highp float;

    uniform vec2      iResolution;
    uniform float     iMinDimension;
    uniform sampler2D iChannel0;
    uniform vec2      iScreenRatioHalf;
    uniform vec2      iFeedbackZoomCenter;
    uniform float     iFeedbackZoomRate;
    uniform vec2      iFeedbackShiftVector;
    uniform float     iFeedbackFadeRate;
    uniform float     iFeedbackColorShiftZoom;
    uniform float     iFeedbackColorShiftImpact;
    uniform vec2      iDrawCenter;
    uniform float     iDrawIntensity;
    uniform float     iBlobEdgeSmoothing;
    uniform float     iBlob1Radius;
    uniform float     iBlob1PowFactor;
    uniform vec3      iBlob1Color;
    uniform float     iBlob2Radius;
    uniform float     iBlob2PowFactor;
    uniform vec3      iBlob2Color;
    uniform float     iColorShiftOfRadius;

    /*
      Normally it would be provided by texture parameters, but on iOS the texture REPEAT works only
      for textures which size is the power of 2.
     */
    vec4 repeatedTexture(in sampler2D channel, in vec2 uv) {
      return texture2D(channel, mod(uv, 1.));
    }

    float drawBlob(
      in vec2 st,
      in vec2 center,
      in float radius,
      in float edgeSmoothing
    ) {
      float dist = length((st - center) / radius);
      return dist * smoothstep(1., 1. - iBlobEdgeSmoothing, dist);
    }

    void main() {
      vec2 uv = gl_FragCoord.xy / iResolution;
      vec2 st = (gl_FragCoord.xy * 2. - iResolution) / iMinDimension;

      float drawDist = length(st - iDrawCenter);

      vec3 colorShift = repeatedTexture(
        iChannel0,
        uv - st * iFeedbackColorShiftZoom * iScreenRatioHalf
      ).rgb;

      vec2 stShift = vec2(0);
      stShift += iFeedbackZoomRate * (st - iFeedbackZoomCenter);
      stShift += (colorShift.rg - .5) * iFeedbackColorShiftImpact;
      stShift += iFeedbackShiftVector;
      stShift *= iScreenRatioHalf;

      vec3 prevColor = repeatedTexture(iChannel0, uv - stShift).rgb;
      prevColor *= iFeedbackFadeRate;

      vec3 drawColor = vec3(0);

      float radius =
        1.
        + (colorShift.r + colorShift.g + colorShift.b) * iColorShiftOfRadius;
      drawColor +=
        pow(
          drawBlob(st, iDrawCenter, radius * iBlob1Radius, iBlobEdgeSmoothing),
          iBlob1PowFactor
        ) * iBlob1Color;
      drawColor +=
        pow(
          drawBlob(st, iDrawCenter, radius * iBlob2Radius, iBlobEdgeSmoothing),
          iBlob2PowFactor
        ) * iBlob2Color;

      vec3 color = vec3(0);
      drawColor *= iDrawIntensity;
      prevColor *= iFeedbackFadeRate;
      color += prevColor;
      color += drawColor;

      color = clamp(color, 0., 1.);
      gl_FragColor = vec4(color, 1.);
    }
  </script>

  <!--
    The "image" shader will just copy the "feedback" output to the canvas.
   -->
   
  <script type="x-shader/x-fragment" id="image">
    precision highp float;

    uniform vec2 iResolution;
    uniform sampler2D iChannel0;

    void main(){
      gl_FragColor = texture2D(iChannel0, gl_FragCoord.xy / iResolution);
    }
  </script>
  <script src="render.js"></script>