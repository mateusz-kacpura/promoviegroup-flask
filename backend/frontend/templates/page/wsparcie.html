<p></br></p>
<div class="container"><div id="donationSection"></div></div>
<script>
const donationFormData = {
  stepTitles: ["Krok 1: Dane osobowe", "Krok 2: Wybierz metodę płatności", "Krok 3: Szczegóły płatności"],
  labels: {
    name: "Imię i nazwisko",
    email: "Adres email",
    amount: "Wysokość darowizny",
    comment: "Komentarz",
    anonymous: "Chcę wysłać darowiznę anonimowo",
    bankTransfer: "Wpłata na konto bankowe",
    blik: "Wpłata BLIK",
    paypal: "Wpłata PayPal"
  },
  buttons: {
    next: "Dalej",
    back: "Wstecz",
    submit: "Wyślij darowiznę"
  },
  paymentOptions: [
    { id: "bank", text: "Wpłata bezpośrednio na numer konta bankowego (Millennium Bank)" },
    { id: "blik", text: "Wpłata BLIK na numer telefonu" },
    { id: "paypal", text: "Wpłata PayPal" }
  ],
  paymentDetails: {
    bank: 'Numer konta: 1234567890',
    blik: 'Numer telefonu: 123-456-789',
    paypal: 'Adres PayPal: donate@promoviegroup.com'
  }
};


function renderDonationForm(data) {
  return `
    <div class="container mt-5">
      <div class="row justify-content-center">
        <div class="col-md-8">
          <h2 id="stepTitle">${data.stepTitles[0]}</h2>
          <form id="donationForm">
            <div id="step1">
              <div class="mb-3">
                <label for="name" class="form-label">${data.labels.name}</label>
                <input type="text" class="form-control" id="name" required>
              </div>
              <div class="mb-3">
                <label for="email" class="form-label">${data.labels.email}</label>
                <input type="email" class="form-control" id="email" required>
              </div>
              <div class="mb-3">
                <label for="amount" class="form-label">${data.labels.amount}</label>
                <input type="number" class="form-control" id="amount" required>
              </div>
              <div class="mb-3">
                <label for="comment" class="form-label">${data.labels.comment}</label>
                <textarea class="form-control" id="comment" rows="3"></textarea>
              </div>
              <div class="form-check mb-3">
                <input class="form-check-input" type="checkbox" id="anonymous">
                <label class="form-check-label" for="anonymous">
                  ${data.labels.anonymous}
                </label>
              </div>
              <button type="button" class="btn btn-primary" onclick="goToStep(2, donationFormData)">${data.buttons.next}</button>
            </div>
            
            <div id="step2" class="d-none">
              ${data.paymentOptions.map(option => `
                <div class="form-check mb-3">
                  <input class="form-check-input" type="radio" name="paymentMethod" id="${option.id}" value="${option.id}" required>
                  <label class="form-check-label" for="${option.id}">
                    ${option.text}
                  </label>
                </div>
              `).join('')}
              <button type="button" class="btn btn-secondary" onclick="goToStep(1, donationFormData)">${data.buttons.back}</button>
              <button type="button" class="btn btn-primary" onclick="goToStep(3, donationFormData)">${data.buttons.next}</button>
            </div>

            <div id="step3" class="d-none">
              <div id="paymentDetails"></div>
              <button type="button" class="btn btn-secondary" onclick="goToStep(2, donationFormData)">${data.buttons.back}</button>
              <button type="submit" class="btn btn-success">${data.buttons.submit}</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  `;
}

document.getElementById('donationSection').innerHTML = renderDonationForm(donationFormData);

function goToStep(step, data) {
  document.getElementById('step1').classList.toggle('d-none', step !== 1);
  document.getElementById('step2').classList.toggle('d-none', step !== 2);
  document.getElementById('step3').classList.toggle('d-none', step !== 3);
  
  document.getElementById('stepTitle').innerText = data.stepTitles[step - 1];
  
  if (step === 3) {
    const selectedMethod = document.querySelector('input[name="paymentMethod"]:checked').value;
    document.getElementById('paymentDetails').innerHTML = getPaymentDetails(selectedMethod, data.paymentDetails);
  }
}

function getPaymentDetails(method, details) {
  return `<p>${details[method]}</p>`;
}


</script>